!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n=function(){function t(t,e){this.x=t,this.y=e,this.magnitude=Math.sqrt(t^2+e^2)}return t.prototype.set=function(t,e){this.x=t,this.y=e,this.magnitude=Math.sqrt(t^2+e^2)},t.prototype.setMag=function(t){var e=Math.atan2(this.y,this.x);this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this.magnitude=t},t.prototype.heading=function(){return Math.atan2(this.y,this.x)},t.prototype.mult=function(t){this.x=this.x*t,this.y=this.y*t},t.add=function(e,i){return new t(e.x+i.x,e.y+i.y)},t.sub=function(e,i){return new t(e.x-i.x,e.y-i.y)},t}(),s=function(){function t(t,e,i,s,o){this.a=new n(t,e),this.len=i,this.angle=s;var h=this.len*Math.cos(this.angle),r=this.len*Math.sin(this.angle);this.b=new n(this.a.x+h,this.a.y+r),void 0!==o?(this.parent=o,this.a=new n(this.parent.b.x,this.parent.b.y)):this.parent=null,this.calculateB()}return t.prototype.follow=function(t,e){var i=new n(t,e),s=n.sub(i,this.a);this.angle=s.heading(),s.setMag(this.len),s.mult(-1),this.a=n.add(i,s)},t.prototype.calculateB=function(){var t=this.len*Math.cos(this.angle),e=this.len*Math.sin(this.angle);this.b.set(this.a.x+t,this.a.y+e)},t.prototype.update=function(){this.calculateB()},t.prototype.draw=function(t){t.beginPath(),t.moveTo(this.a.x,this.a.y),t.lineTo(this.b.x,this.b.y),t.stroke()},t}(),o=function(){function t(t,e,i,n){this.ticks=1,this.x=t,this.y=e,this.h=i,this.w=n,this.leg1seg1=new s(this.x+this.w,this.y,20,225*Math.PI/180),this.leg1seg2=new s(0,0,20,0,this.leg1seg1)}return t.prototype.update=function(){this.ticks++,this.x++,this.leg1seg2.follow(this.lungeLeg()+this.w,this.y),this.leg1seg2.update(),this.leg1seg1.follow(this.leg1seg2.a.x,this.leg1seg2.a.y),this.leg1seg1.update()},t.prototype.lungeLeg=function(){return this.x+this.ticks},t.prototype.draw=function(t){this.leg1seg1.draw(t),this.leg1seg2.draw(t),t.fillStyle="grey",t.fillRect(this.x,this.y,this.w,this.h)},t}(),h=document.getElementById("gameScreen"),r=h.getContext("2d"),a=h.getBoundingClientRect(),u=0,l=0,c=new s(300,200,100,0),f=new s(0,0,100,0,c),g=new o(250,250,25,25);setInterval(function(){g.update(),f.follow(l,u),f.update(),c.follow(f.a.x,f.a.y),c.update(),r.clearRect(0,0,h.width,h.height),g.draw(r),c.draw(r),f.draw(r)},12),h.addEventListener("mousemove",function(t){l=(t.clientX-a.left)/(a.right-a.left)*h.width,u=(t.clientY-a.top)/(a.bottom-a.top)*h.height},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BWZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NlZ21lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0VudGl0eS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJQVmVjdG9yIiwiWCIsIlkiLCJ0aGlzIiwieCIsInkiLCJtYWduaXR1ZGUiLCJNYXRoIiwic3FydCIsInNldCIsInNldE1hZyIsIk1hZ25pdHVkZSIsImFuZ2xlIiwiYXRhbjIiLCJjb3MiLCJzaW4iLCJoZWFkaW5nIiwibXVsdCIsIk11bHRpcGxlIiwiYWRkIiwiQSIsIkIiLCJzdWIiLCJTZWdtZW50X1NlZ21lbnQiLCJTZWdtZW50IiwiTGVuIiwiQW5nbGUiLCJQYXJlbnQiLCJhIiwibGVuIiwiZHgiLCJkeSIsImIiLCJ1bmRlZmluZWQiLCJwYXJlbnQiLCJjYWxjdWxhdGVCIiwiZm9sbG93IiwidGFyZ2V0WCIsInRhcmdldFkiLCJ0YXJnZXQiLCJkaXIiLCJ1cGRhdGUiLCJkcmF3IiwiY3R4IiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwiRW50aXR5X0VudGl0eSIsIkVudGl0eSIsIkgiLCJXIiwidGlja3MiLCJoIiwidyIsImxlZzFzZWcxIiwiUEkiLCJsZWcxc2VnMiIsImx1bmdlTGVnIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJtb3VzZVkiLCJtb3VzZVgiLCJzZWcxIiwic2VnMiIsImVudCIsInNldEludGVydmFsIiwiY2xlYXJSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xpZW50WCIsImxlZnQiLCJyaWdodCIsImNsaWVudFkiLCJ0b3AiLCJib3R0b20iXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVB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Q0osRUFBSTdCLEtBQUtDLEdBQ1QwQixFQUFLM0IsS0FBS0MsR0FDVjJCLEVBQUs1QixLQUFLQyxJQU9YLElBRUhrQixFQUFPZSxpQkFBaUIsWUFBYSxTQUFVQyxHQUMzQ1QsR0FBVVMsRUFBSUMsUUFBVWIsRUFBS2MsT0FBU2QsRUFBS2UsTUFBUWYsRUFBS2MsTUFBUWxCLEVBQU9hLE1BQ3ZFUCxHQUFVVSxFQUFJSSxRQUFVaEIsRUFBS2lCLE1BQVFqQixFQUFLa0IsT0FBU2xCLEVBQUtpQixLQUFPckIsRUFBT2MsU0FDdkUiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLyoqIGltcGxlbWVudGF0aW9uIG9mIEphdmEncyBQcm9jZXNzaW5nIFBWZWN0b3IgKi9cclxuZXhwb3J0IGNsYXNzIFBWZWN0b3Ige1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgbWFnbml0dWRlOiBudW1iZXI7XHJcbiAgICBjb25zdHJ1Y3RvcihYOiBudW1iZXIsIFk6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMueCA9IFg7XHJcbiAgICAgICAgdGhpcy55ID0gWTtcclxuICAgICAgICB0aGlzLm1hZ25pdHVkZSA9IE1hdGguc3FydCgoWF4yICsgWV4yKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIHNldCB4IGFuZCB5IHdpdGhvdXQgYWxsb2NhdGluZyBuZXcgUFZlY3RvciAqL1xyXG4gICAgc2V0KFg6IG51bWJlciwgWTogbnVtYmVyKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMueCA9IFg7XHJcbiAgICAgICAgdGhpcy55ID0gWTtcclxuICAgICAgICB0aGlzLm1hZ25pdHVkZSA9IE1hdGguc3FydCgoWF4yICsgWV4yKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIHNldHMgdGhlIG1hZ25pdHVkZSAobGVuZ3RoKSBvZiB2ZWN0b3JcclxuICAgICAqICBmaW5kcyBuZXcgeCBhbmQgeSBjb29yZGluYXRlc1xyXG4gICAgICovXHJcbiAgICBzZXRNYWcoTWFnbml0dWRlOiBudW1iZXIpIDogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHRoaXMueSwgdGhpcy54KTtcclxuICAgICAgICB0aGlzLnggPSBNYXRoLmNvcyhhbmdsZSkgKiBNYWduaXR1ZGU7XHJcbiAgICAgICAgdGhpcy55ID0gTWF0aC5zaW4oYW5nbGUpICogTWFnbml0dWRlO1xyXG4gICAgICAgIHRoaXMubWFnbml0dWRlID0gTWFnbml0dWRlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiByZXR1cm5zIGFuZ2xlIG9mIHZlY3RvciAqL1xyXG4gICAgaGVhZGluZygpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIG11bHRpcGxpZXMgdGhlIGNvbXBvbmVudHMgb2YgdGhlIHZlYyBieSBzb21lIG51bWJlciAgKi9cclxuICAgIG11bHQoTXVsdGlwbGU6IG51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnggPSB0aGlzLnggKiBNdWx0aXBsZTtcclxuICAgICAgICB0aGlzLnkgPSB0aGlzLnkgKiBNdWx0aXBsZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogcmV0dXJucyBuZXcgdmVjIG9mIHZlYyBBIHBsdXMgdmVjIEIgKi9cclxuICAgIHN0YXRpYyBhZGQoQTogUFZlY3RvciwgQjogUFZlY3RvcikgOiBQVmVjdG9yIHtcclxuICAgICAgICBjb25zdCB4ID0gQS54ICsgQi54O1xyXG4gICAgICAgIGNvbnN0IHkgPSBBLnkgKyBCLnk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQVmVjdG9yKHgsIHkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiByZXR1cm5zIG5ldyB2ZWMgb2YgdmVjIEIgc3VidHJhY3RlZCBmcm9tIHZlYyBBICovXHJcbiAgICBzdGF0aWMgc3ViKEE6IFBWZWN0b3IsIEI6IFBWZWN0b3IpIDogUFZlY3RvciB7XHJcbiAgICAgICAgY29uc3QgeCA9IEEueCAtIEIueDtcclxuICAgICAgICBjb25zdCB5ID0gQS55IC0gQi55O1xyXG4gICAgICAgIHJldHVybiBuZXcgUFZlY3Rvcih4LCB5KVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUFZlY3RvciB9IGZyb20gXCIuL1BWZWN0b3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZWdtZW50IHtcclxuICAgIGE6IFBWZWN0b3I7XHJcbiAgICBhbmdsZTogbnVtYmVyO1xyXG4gICAgbGVuOiBudW1iZXI7XHJcbiAgICBiOiBQVmVjdG9yO1xyXG4gICAgcGFyZW50OiBTZWdtZW50O1xyXG4gICAgY29uc3RydWN0b3IoWDogbnVtYmVyLCBZOiBudW1iZXIsIExlbjogbnVtYmVyLCBBbmdsZTogbnVtYmVyLCBQYXJlbnQ/OiBTZWdtZW50KSB7XHJcbiAgICAgICAgdGhpcy5hID0gbmV3IFBWZWN0b3IoWCwgWSk7XHJcbiAgICAgICAgdGhpcy5sZW4gPSBMZW47XHJcbiAgICAgICAgdGhpcy5hbmdsZSA9IEFuZ2xlO1xyXG5cclxuICAgICAgICBjb25zdCBkeDogbnVtYmVyID0gdGhpcy5sZW4gKiBNYXRoLmNvcyh0aGlzLmFuZ2xlKTtcclxuICAgICAgICBjb25zdCBkeTogbnVtYmVyID0gdGhpcy5sZW4gKiBNYXRoLnNpbih0aGlzLmFuZ2xlKTtcclxuICAgICAgICB0aGlzLmIgPSBuZXcgUFZlY3Rvcih0aGlzLmEueCArIGR4LCB0aGlzLmEueSArIGR5KTtcclxuXHJcbiAgICAgICAgaWYgKFBhcmVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gUGFyZW50XHJcbiAgICAgICAgICAgIHRoaXMuYSA9IG5ldyBQVmVjdG9yKHRoaXMucGFyZW50LmIueCwgdGhpcy5wYXJlbnQuYi55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvbGxvdyh0YXJnZXRYOiBudW1iZXIsIHRhcmdldFk6IG51bWJlcikge1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSBuZXcgUFZlY3Rvcih0YXJnZXRYLCB0YXJnZXRZKTtcclxuICAgICAgICBsZXQgZGlyID0gUFZlY3Rvci5zdWIodGFyZ2V0LCB0aGlzLmEpO1xyXG4gICAgICAgIHRoaXMuYW5nbGUgPSBkaXIuaGVhZGluZygpO1xyXG5cclxuICAgICAgICBkaXIuc2V0TWFnKHRoaXMubGVuKTtcclxuICAgICAgICBkaXIubXVsdCgtMSk7XHJcblxyXG4gICAgICAgIHRoaXMuYSA9IFBWZWN0b3IuYWRkKHRhcmdldCwgZGlyKTtcclxuICAgIH1cclxuXHJcbiAgICBjYWxjdWxhdGVCKCkgOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBkeDogbnVtYmVyID0gdGhpcy5sZW4gKiBNYXRoLmNvcyh0aGlzLmFuZ2xlKTtcclxuICAgICAgICBjb25zdCBkeTogbnVtYmVyID0gdGhpcy5sZW4gKiBNYXRoLnNpbih0aGlzLmFuZ2xlKTtcclxuICAgICAgICB0aGlzLmIuc2V0KHRoaXMuYS54ICsgZHgsIHRoaXMuYS55ICsgZHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVCKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgOiB2b2lkIHtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLmEueCwgdGhpcy5hLnkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8odGhpcy5iLngsIHRoaXMuYi55KTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTZWdtZW50IH0gZnJvbSBcIi4vU2VnbWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVudGl0eSB7XHJcbiAgICB4OiBudW1iZXI7XHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICBoOiBudW1iZXI7XHJcbiAgICB3OiBudW1iZXI7XHJcbiAgICBsZWcxc2VnMTogU2VnbWVudDtcclxuICAgIGxlZzFzZWcyOiBTZWdtZW50O1xyXG4gICAgdGlja3M6IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKFg6IG51bWJlciwgWTogbnVtYmVyLCBIOiBudW1iZXIsIFc6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudGlja3MgPSAxO1xyXG4gICAgICAgIHRoaXMueCA9IFg7XHJcbiAgICAgICAgdGhpcy55ID0gWTtcclxuICAgICAgICB0aGlzLmggPSBIO1xyXG4gICAgICAgIHRoaXMudyA9IFc7XHJcbiAgICAgICAgdGhpcy5sZWcxc2VnMSA9IG5ldyBTZWdtZW50KHRoaXMueCArIHRoaXMudywgdGhpcy55LCAyMCwgMjI1ICogTWF0aC5QSS8xODApO1xyXG4gICAgICAgIHRoaXMubGVnMXNlZzIgPSBuZXcgU2VnbWVudCgwLCAwLCAyMCwgMCwgdGhpcy5sZWcxc2VnMSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRpY2tzKys7XHJcbiAgICAgICAgdGhpcy54Kys7XHJcbiAgICAgICAgdGhpcy5sZWcxc2VnMi5mb2xsb3codGhpcy5sdW5nZUxlZygpICsgdGhpcy53LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMubGVnMXNlZzIudXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sZWcxc2VnMS5mb2xsb3codGhpcy5sZWcxc2VnMi5hLngsIHRoaXMubGVnMXNlZzIuYS55KTtcclxuICAgICAgICB0aGlzLmxlZzFzZWcxLnVwZGF0ZSgpO1xyXG4gICAgICAgIC8vIHRoaXMubGVnMXNlZzEuY2FsY3VsYXRlQigxKTtcclxuICAgICAgICAvLyBpZiAodGhpcy54ICUgMTAwID09PSAwKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMubGVnMXNlZzEuYi54ICs9IDEwO1xyXG4gICAgICAgIC8vICAgICB0aGlzLmxlZzFzZWcxLmIueSAtPSAxMDtcclxuICAgICAgICAvLyAgICAgdGhpcy5sZWcxc2VnMS5hLnggKz0gMTA7XHJcbiAgICAgICAgLy8gICAgIHRoaXMubGVnMXNlZzEuYS55ICs9IDEwO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBsdW5nZUxlZygpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy50aWNrcztcclxuICAgIH1cclxuXHJcbiAgICBkcmF3IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxlZzFzZWcxLmRyYXcoY3R4KTtcclxuICAgICAgICB0aGlzLmxlZzFzZWcyLmRyYXcoY3R4KTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJncmV5XCI7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTZWdtZW50IH0gZnJvbSBcIi4vU2VnbWVudFwiO1xyXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9FbnRpdHlcIjtcclxuLy8gc2V0IHVwIHN0YXRlXHJcbmNvbnN0IGNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWVTY3JlZW4nKTtcclxuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbmNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbmxldCBtb3VzZVkgPSAwO1xyXG5sZXQgbW91c2VYID0gMDtcclxubGV0IHNlZzEgPSBuZXcgU2VnbWVudCgzMDAsIDIwMCwgMTAwLCAwKTtcclxubGV0IHNlZzIgPSBuZXcgU2VnbWVudCgwLCAwLCAxMDAsIDAsIHNlZzEpO1xyXG5sZXQgZW50ID0gbmV3IEVudGl0eSgyNTAsIDI1MCwgMjUsIDI1KTtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZSgpIDogdm9pZCB7XHJcbiAgICBlbnQudXBkYXRlKCk7XHJcbiAgICBzZWcyLmZvbGxvdyhtb3VzZVgsIG1vdXNlWSk7XHJcbiAgICAvLyBzZWcyLmxvY2tUb0NoaWxkQihzZWcxKTtcclxuICAgIHNlZzIudXBkYXRlKCk7XHJcbiAgICBzZWcxLmZvbGxvdyhzZWcyLmEueCwgc2VnMi5hLnkpO1xyXG4gICAgLy8gc2VnMS5jYWxjdWxhdGVCKDI1MCwgMjUwKTtcclxuICAgIHNlZzEudXBkYXRlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXcoKSA6IHZvaWQge1xyXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgZW50LmRyYXcoY3R4KTtcclxuICAgIHNlZzEuZHJhdyhjdHgpO1xyXG4gICAgc2VnMi5kcmF3KGN0eCk7XHJcbn1cclxuXHJcbi8vIG1haW4gbG9vcFxyXG5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgIHVwZGF0ZSgpO1xyXG4gICAgZHJhdygpO1xyXG59LCAxMik7XHJcblxyXG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgbW91c2VYID0gKGV2dC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIChyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KSAqIGNhbnZhcy53aWR0aDtcclxuICAgIG1vdXNlWSA9IChldnQuY2xpZW50WSAtIHJlY3QudG9wKSAvIChyZWN0LmJvdHRvbSAtIHJlY3QudG9wKSAqIGNhbnZhcy5oZWlnaHQ7XHJcbn0sIGZhbHNlKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==